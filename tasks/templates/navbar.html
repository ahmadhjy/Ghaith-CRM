<!-- Add Font Awesome CSS for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<link 
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.css" 
  rel="stylesheet"  type='text/css'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle menu">
    <i class="fa fa-bars" id="menuIcon"></i>
</button>
<div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>
<div class="mcd-container" id="mcdContainer">
    <nav>
        <ul class="mcd-menu">

          <li>
            <a href="{% url 'stats_dashboard' %}">
                <i class="fas fa-chart-line"></i>
                <strong>Ghaith Dashboard</strong>
                <small>view stats</small>
            </a>
        </li>

            <li>
                <a href="{% url 'calendar' %}">
                    <i class="fa fa-dashboard"></i>
                    <strong>User Dashboard</strong>
                    <small>sweet home</small>
                </a>
            </li>
            
            <li>
              <a href="{% url 'display_data' %}">
                  <i class="fa fa-list-alt"></i>
                  <strong>Requests</strong>
                  <small>find Your Leads</small>
              </a>
              <ul>
                  <li><a href="{% url 'display_data' %}"><i class="fa fa-user"></i>All</a></li>
                  <li><a href="{% url 'create_lead' %}"><i class="fa fa-plus"></i>Add New</a></li>
                  <li><a href="{% url 'archived_leads' %}"><i class="fas fa-archive"></i>Archived Leads</a></li>
                  <li><a href="{% url 'list_offers' %}"><i class="fa fa-user"></i>Offers List</a></li>
                  <li><a href="https://drive.google.com/drive/folders/15yQzuXd18pgXV9YXH3fi4TE6DyeTYcp7?usp=sharing" target="_blank" rel="noopener noreferrer"><i class="fa fa-file-text"></i>Ghaith Offer</a></li>
              </ul>
          </li>

            <li>
              <a href="{% url 'takeover_list' %}">
                  <i class="fa fa-handshake-o"></i>
                  <strong>Take Over List</strong>
                  <small>Available Leads</small>
              </a>
          </li>
            
            <li>
                <a href="{% url 'current tasks' %}">
                    <i class="fa fa-tasks"></i>
                    <strong>Tasks</strong>
                    <small>Task Hub</small>
                </a>
                <ul>
                    <li><a href="{% url 'current tasks' %}"><i class="fa fa-check"></i>My Tasks</a></li>
                    <li><a href="{% url 'expired_tasks' %}"><i class="fa fa-clock-o"></i>Overdue</a></li>
                    <li><a href="{% url 'input_task' %}"><i class="fa fa-plus"></i>Add New</a></li>
                </ul>
            </li>
            
            <li>
              <a href="{% url 'current_lead_tasks' %}">
                  <i class="fa fa-file-text-o"></i>
                  <strong>Orders</strong>
                  <small>Sold Requests</small>
              </a>
              <ul>
                  <li><a href="{% url 'current_lead_tasks' %}"><i class="fa fa-list"></i>All Orders</a></li>
                  <li><a href="{% url 'travellers_list' %}"><i class="fa fa-plane"></i>Travellers</a></li>
                  <li><a href="{% url 'purchased_services' %}"><i class="fa fa-shopping-cart"></i>Purchased Services</a></li>
                  <li><a href="{% url 'client_payments' %}"><i class="fa fa-credit-card"></i>Client Payments</a></li>
                  <li><a href="{% url 'supplier_payments_list' %}"><i class="fa fa-truck"></i>Supplier Payments (Calendar)</a></li>
                  <li><a href="{% url 'client_payments_list' %}"><i class="fa fa-calendar-check-o"></i>Client Payments (Calendar)</a></li>
              </ul>
          </li>
          
            
            <li>
                <a href="{% url 'event_new' %}" target="_blank" rel="noopener noreferrer">
                    <i class="fa fa-calendar-plus-o"></i>
                    <strong>Create Reminder</strong>
                    <small>Don't Miss out!</small>
                </a>
            </li>

            <li>
              <a href="{% url 'list_daily_reports' %}">
                  <i class="fa fa-file-alt"></i>
                  <strong>Daily Reports</strong>
                  <small>View Reports</small>
              </a>
          </li>
            
            <li>
                <a href="{% url 'logout-user' %}">
                    <i class="fa fa-sign-out"></i>
                    <strong>Logout</strong>
                    <small>Sign out of your account</small>
                </a>
            </li>
        </ul>
    </nav>
</div>

<style>
.mcd-container {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    width: 250px;
    margin: 0;
    padding: 50px 0;
    clear: both;
    height: 100%;
    background-color: #fbfbfb;
    z-index: 10000;
}
.mcd-menu {
    width: 100%;
    list-style: none;
    padding: 0;
    margin: 0;
    background: #fbfbfb;
    border-radius: 2px;
}
.mcd-menu *{box-sizing:unset!important;}
.mcd-menu li{position:relative;}
.mcd-menu li ul li{list-style:none;}
.mcd-menu li a{display:block;text-decoration:none;padding:12px 20px;color:#777;text-align:left;height:36px;position:relative;border-bottom:1px solid #EEE;}
.mcd-menu li a i{float:left;font-size:20px;margin:0 10px 0 0;}
.mcd-menu li a strong{display:block;text-transform:uppercase;}
.mcd-menu li a small{display:block;font-size:10px;}
.mcd-menu li a i,.mcd-menu li a strong,.mcd-menu li a small{position:relative;transition:all 300ms linear;}
.mcd-menu li:hover>a i{opacity:1;animation:moveFromTop 300ms ease-in-out;}
.mcd-menu li:hover a strong{opacity:1;animation:moveFromLeft 300ms ease-in-out;}
.mcd-menu li:hover a small{opacity:1;animation:moveFromRight 300ms ease-in-out;}
.mcd-menu li:hover>a{color:#e67e22;}
.mcd-menu li a.active{position:relative;color:#e67e22;border:0;box-shadow:0 0 5px #DDD;border-left:4px solid #e67e22;border-right:4px solid #e67e22;margin:0 -4px;}
.mcd-menu li a.active:before{content:"";position:absolute;top:42%;left:0;border-left:5px solid #e67e22;border-top:5px solid transparent;border-bottom:5px solid transparent;}
.mcd-menu li a.active:after{content:"";position:absolute;top:42%;right:0;border-right:5px solid #e67e22;border-top:5px solid transparent;border-bottom:5px solid transparent;}
@keyframes moveFromTop{from{opacity:0;transform:translateY(200%);}to{opacity:1;transform:translateY(0%);}}
@keyframes moveFromLeft{from{opacity:0;transform:translateX(200%);}to{opacity:1;transform:translateX(0%);}}
@keyframes moveFromRight{from{opacity:0;transform:translateX(-200%);}to{opacity:1;transform:translateX(0%);}}
.mcd-menu li ul,.mcd-menu li ul li ul{position:absolute;height:auto;min-width:200px;padding:0;margin:0;background:#FFF;opacity:0;visibility:hidden;transition:all 300ms linear;z-index:1000;left:280px;top:0;border-left:4px solid #e67e22;}
.mcd-menu li ul:before{content:"";position:absolute;top:25px;left:-9px;border-right:5px solid #e67e22;border-bottom:5px solid transparent;border-top:5px solid transparent;}
.mcd-menu li:hover>ul,.mcd-menu li ul li:hover>ul{display:block;opacity:1;visibility:visible;left:250px;}
.mcd-menu li ul li a{padding:10px;text-align:left;border:0;border-bottom:1px solid #EEE;height:auto;}
.mcd-menu li ul li a i{font-size:16px;display:inline-block;margin:0 10px 0 0;}
.mcd-menu li ul li ul{left:230px;top:0;border:0;border-left:4px solid #e67e22;}
.mcd-menu li ul li ul:before{content:"";position:absolute;top:15px;left:-9px;border-right:5px solid #e67e22;border-bottom:5px solid transparent;border-top:5px solid transparent;}
.mcd-menu li ul li:hover>ul{left:200px;}
.mcd-menu li a.logout-button{color:#c0392b;}
.mcd-menu li a.logout-button:hover{color:#e74c3c;background-color:#f8f9fa;}
.mobile-menu-toggle{display:none;position:fixed;top:15px;left:15px;z-index:10002;background:#e67e22;color:white;border:none;padding:0;border-radius:4px;cursor:pointer;font-size:20px;box-shadow:0 2px 5px rgba(0,0,0,0.2);width:45px;height:45px;transition:background 0.3s ease;}
.mobile-menu-toggle:hover{background:#d35400;}
.mobile-menu-toggle i{font-size:20px;line-height:1;}
.mobile-menu-overlay{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);z-index:9999;opacity:0;transition:opacity 0.3s ease-in-out;pointer-events:none;}
.mobile-menu-overlay.active{display:block;opacity:1;pointer-events:all;}
@media (max-width:768px){
html,body{overflow-x:hidden!important;width:100%!important;max-width:100vw!important;margin:0!important;padding:0!important;}
body{padding-left:0!important;padding-right:0!important;padding-top:70px!important;padding-bottom:20px!important;margin-left:0!important;position:relative;}
body.menu-open{overflow:hidden!important;position:fixed;width:100%;}
.mobile-menu-toggle{display:flex!important;}
.mcd-container{position:fixed!important;top:0!important;left:0!important;height:100vh!important;width:280px!important;max-width:85vw!important;transform:translateX(-100%)!important;transition:transform 0.3s ease-in-out!important;z-index:10001!important;box-shadow:2px 0 15px rgba(0,0,0,0.3)!important;overflow-y:auto!important;-webkit-overflow-scrolling:touch!important;margin:0!important;padding:50px 0!important;background:#fbfbfb!important;}
.mcd-container.mobile-open{transform:translateX(0)!important;z-index:10002!important;}
.mobile-menu-overlay{display:block!important;}
.mcd-menu li ul,.mcd-menu li ul li ul{position:static;opacity:1;visibility:visible;display:none;left:0;width:100%;border-left:none;border-top:1px solid #EEE;}
.mcd-menu li ul:before,.mcd-menu li ul li ul:before{display:none;}
.mcd-menu li:hover>ul,.mcd-menu li ul li:hover>ul{display:block;left:0;}
.mcd-menu li.has-submenu>a::after{content:" \25BC";float:right;}
.mcd-menu li a{height:auto;min-height:36px;padding:10px 20px;}
}
@media (min-width:769px){
body{padding-bottom:100px;padding-top:50px;padding-right:50px;}
.mcd-container{transform:translateX(0)!important;position:fixed!important;}
.mobile-menu-toggle{display:none!important;}
.mobile-menu-overlay{display:none!important;}
body.menu-open{overflow:auto!important;position:static!important;}
}
</style>

<script>
(function(){
'use strict';
function initMobileMenu(){
const toggle=document.getElementById('mobileMenuToggle');
const container=document.getElementById('mcdContainer');
const overlay=document.getElementById('mobileMenuOverlay');
const menuIcon=document.getElementById('menuIcon');
const body=document.body;
if(!toggle||!container||!overlay){return;}
if(window.innerWidth<=768){container.classList.remove('mobile-open');overlay.classList.remove('active');body.classList.remove('menu-open');if(menuIcon){menuIcon.classList.remove('fa-times');menuIcon.classList.add('fa-bars');}}
function openMenu(){container.classList.add('mobile-open');overlay.classList.add('active');body.classList.add('menu-open');if(menuIcon){menuIcon.classList.remove('fa-bars');menuIcon.classList.add('fa-times');}}
function closeMenu(){container.classList.remove('mobile-open');overlay.classList.remove('active');body.classList.remove('menu-open');if(menuIcon){menuIcon.classList.remove('fa-times');menuIcon.classList.add('fa-bars');}}
toggle.addEventListener('click',function(e){e.stopPropagation();e.preventDefault();if(window.innerWidth<=768){if(container.classList.contains('mobile-open')){closeMenu();}else{openMenu();}}});
overlay.addEventListener('click',function(e){e.stopPropagation();closeMenu();});
document.addEventListener('click',function(event){if(window.innerWidth<=768){if(container.classList.contains('mobile-open')&&!container.contains(event.target)&&!toggle.contains(event.target)&&!overlay.contains(event.target)){closeMenu();}}});
let resizeTimer;window.addEventListener('resize',function(){clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){if(window.innerWidth>768){closeMenu();}else{closeMenu();}},100);});
const menuItems=container.querySelectorAll('.mcd-menu > li > ul');
menuItems.forEach(function(ul){const parent=ul.parentElement;if(parent){parent.classList.add('has-submenu');const link=parent.querySelector('> a');if(link){link.addEventListener('click',function(e){if(window.innerWidth<=768){e.preventDefault();e.stopPropagation();const isOpen=ul.style.display==='block';menuItems.forEach(function(otherUl){if(otherUl!==ul){otherUl.style.display='none';}});ul.style.display=isOpen?'none':'block';}});}}});
}
if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',initMobileMenu);}else{initMobileMenu();}
})();
</script>
